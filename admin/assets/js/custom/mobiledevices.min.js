!function(t){function e(t,e,n,o){if("addEventListener"in t)try{t.addEventListener(e,n,o)}catch(i){if("object"!=typeof n||!n.handleEvent)throw i;t.addEventListener(e,function(t){n.handleEvent.call(n,t)},o)}else"attachEvent"in t&&("object"==typeof n&&n.handleEvent?t.attachEvent("on"+e,function(){n.handleEvent.call(n)}):t.attachEvent("on"+e,n))}function n(t,e,n,o){if("removeEventListener"in t)try{t.removeEventListener(e,n,o)}catch(i){if("object"!=typeof n||!n.handleEvent)throw i;t.removeEventListener(e,function(t){n.handleEvent.call(n,t)},o)}else"detachEvent"in t&&("object"==typeof n&&n.handleEvent?t.detachEvent("on"+e,function(){n.handleEvent.call(n)}):t.detachEvent("on"+e,n))}window.MBP=window.MBP||{},MBP.viewportmeta=t.querySelector&&t.querySelector('meta[name="viewport"]'),MBP.ua=navigator.userAgent,MBP.scaleFix=function(){MBP.viewportmeta&&/iPhone|iPad|iPod/.test(MBP.ua)&&!/Opera Mini/.test(MBP.ua)&&(MBP.viewportmeta.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0",t.addEventListener("gesturestart",MBP.gestureStart,!1))},MBP.gestureStart=function(){MBP.viewportmeta.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6"},MBP.BODY_SCROLL_TOP=!1,MBP.getScrollTop=function(){var e=window,n=t;return e.pageYOffset||"CSS1Compat"===n.compatMode&&n.documentElement.scrollTop||n.body.scrollTop||0},MBP.hideUrlBar=function(){var t=window;location.hash||!1===MBP.BODY_SCROLL_TOP||t.scrollTo(0,1===MBP.BODY_SCROLL_TOP?0:1)},MBP.hideUrlBarOnLoad=function(){var t,e=window,n=e.document;!location.hash&&e.addEventListener&&(window.scrollTo(0,1),MBP.BODY_SCROLL_TOP=1,t=setInterval(function(){n.body&&(clearInterval(t),MBP.BODY_SCROLL_TOP=MBP.getScrollTop(),MBP.hideUrlBar())},15),e.addEventListener("load",function(){setTimeout(function(){MBP.getScrollTop()<20&&MBP.hideUrlBar()},0)}))},MBP.fastButton=function(t,e,n){if(this.handler=e,this.pressedClass=void 0===n?"pressed":n,t.length&&t.length>1)for(var o in t)this.addClickEvent(t[o]);else this.addClickEvent(t)},MBP.fastButton.prototype.handleEvent=function(t){switch((t=t||window.event).type){case"touchstart":this.onTouchStart(t);break;case"touchmove":this.onTouchMove(t);break;case"touchend":case"click":this.onClick(t)}},MBP.fastButton.prototype.onTouchStart=function(e){var n=e.target||e.srcElement;e.stopPropagation(),n.addEventListener("touchend",this,!1),t.body.addEventListener("touchmove",this,!1),this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY,n.className+=" "+this.pressedClass},MBP.fastButton.prototype.onTouchMove=function(t){(Math.abs(t.touches[0].clientX-this.startX)>10||Math.abs(t.touches[0].clientY-this.startY)>10)&&this.reset(t)},MBP.fastButton.prototype.onClick=function(t){var e=(t=t||window.event).target||t.srcElement;t.stopPropagation&&t.stopPropagation(),this.reset(t),this.handler.apply(t.currentTarget,[t]),"touchend"==t.type&&MBP.preventGhostClick(this.startX,this.startY);var n=new RegExp(" ?"+this.pressedClass,"gi");e.className=e.className.replace(n,"")},MBP.fastButton.prototype.reset=function(e){var o=e.target||e.srcElement;n(o,"touchend",this,!1),n(t.body,"touchmove",this,!1);var i=new RegExp(" ?"+this.pressedClass,"gi");o.className=o.className.replace(i,"")},MBP.fastButton.prototype.addClickEvent=function(t){e(t,"touchstart",this,!1),e(t,"click",this,!1)},MBP.preventGhostClick=function(t,e){MBP.coords.push(t,e),window.setTimeout(function(){MBP.coords.splice(0,2)},2500)},MBP.ghostClickHandler=function(t){if(!MBP.hadTouchEvent&&MBP.dodgyAndroid)return t.stopPropagation(),void t.preventDefault();for(var e=0,n=MBP.coords.length;e<n;e+=2){var o=MBP.coords[e],i=MBP.coords[e+1];Math.abs(t.clientX-o)<25&&Math.abs(t.clientY-i)<25&&(t.stopPropagation(),t.preventDefault())}},MBP.dodgyAndroid="ontouchstart"in window&&-1!=navigator.userAgent.indexOf("Android 2.3"),t.addEventListener&&t.addEventListener("click",MBP.ghostClickHandler,!0),e(t.documentElement,"touchstart",function(){MBP.hadTouchEvent=!0},!1),MBP.coords=[],MBP.autogrow=function(t,e){function n(t){var e=this.scrollHeight;e>this.clientHeight&&(this.style.height=e+3*i+"px")}var o=e||12,i=t.currentStyle?t.currentStyle.lineHeight:getComputedStyle(t,null).lineHeight;i=-1==i.indexOf("px")?o:parseInt(i,10),t.style.overflow="hidden",t.addEventListener?t.addEventListener("keyup",n,!1):t.attachEvent("onkeyup",n)},MBP.enableActive=function(){t.addEventListener("touchstart",function(){},!1)},MBP.preventScrolling=function(){t.addEventListener("touchmove",function(t){t.preventDefault()},!1)},MBP.preventZoom=function(){var e=t.querySelectorAll("input, select, textarea"),n="width=device-width,initial-scale=1,maximum-scale=",o=0;for(o=0;o<e.length;o++)e[o].onfocus=function(){MBP.viewportmeta.content=n+"1"},e[o].onblur=function(){MBP.viewportmeta.content=n+"10"}},MBP.startupImage=function(){var e,n,o,i,a,r;o=window.devicePixelRatio,i=t.getElementsByTagName("head")[0],"iPad"===navigator.platform?(e=2===o?"images/mobile/splash-1536x2008-retina.png":"images/mobile/splash-768x1004.png",n=2===o?"images/mobile/splash-2048x1496-retina.png":"images/mobile/splash-1024x748.png",(a=t.createElement("link")).setAttribute("rel","apple-touch-startup-image"),a.setAttribute("media","screen and (orientation: portrait)"),a.setAttribute("href",e),i.appendChild(a),(r=t.createElement("link")).setAttribute("rel","apple-touch-startup-image"),r.setAttribute("media","screen and (orientation: landscape)"),r.setAttribute("href",n),i.appendChild(r)):(e=2===o?"images/mobile/splash-320x460-retina.png":"images/mobile/splash-320x460.png",(a=t.createElement("link")).setAttribute("rel","apple-touch-startup-image"),a.setAttribute("href",e),i.appendChild(a))}}(document),function(t,e,n){if("standalone"in e&&e.standalone){var o,i=t.location,a=/^(a|html)$/i;t.addEventListener("click",function(t){for(o=t.target;!a.test(o.nodeName);)o=o.parentNode;"href"in o&&(chref=o.href).replace(i.href,"").indexOf("#")&&(!/^[a-z\+\.\-]+:/i.test(chref)||0===chref.indexOf(i.protocol+"//"+i.host))&&(t.preventDefault(),i.href=o.href)},!1)}}(document,window.navigator);
//# sourceMappingURL=maps/mobiledevices.min.js.map
